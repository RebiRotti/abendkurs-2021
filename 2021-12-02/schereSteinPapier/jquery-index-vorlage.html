<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>index</title>
    <link rel="stylesheet" href="custom.css">
</head>
<body>
<main>
    <h1 class="d-block w-100 text-center">Schere, Stein, Papier</h1>
    <article>
        <section class="row">
            <button class="col" type="button" onclick="play(1)">
                <img class="img-fluid w-50" src="img/hot-stones.png" alt="Stein">
            </button>
            <button class="col" type="button" onclick="play(2)">
                <img class="img-fluid w-50" src="img/mail.png" alt="Papier">
            </button>
            <button class="col" type="button" onclick="play(3)">
                <img class="img-fluid w-50" src="img/scissors.png" alt="Schere">
            </button>

        </section>
    </article>
    <article>
        <section class="row">
            <div class="col icon" id="outputChoiceUser"></div>
            <div class="col"><p id="howWins"></p></div>
            <div class="col icon" id="outputChoiceComp"></div>
        </section>

        <h2>Runde: <span id="outputRound">0</span> </h2>
        <p id="outputScore"></p>
        <h3 id="info"></h3>
    </article>
</main>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<script>

    'use strict';
    let round = 0;
    let userWins = 0;
    let compWins = 0;


    function play(userChoice) {
        // ToDo
        // Math.floor(Math.random() * (max - min +1)) + min;
        // let compChoice = ???;

        // ToDo #outputChoiceComp Feld leeren

        // ToDo Runde + 1

        // ToDo Ausgabe der Runde in #outpuRound

        for(let i = 0; i < 10; i++) {
            // ToDo Animation auf Buttons opacity toggle

        }

        if( userChoice === 3 && compChoice === 2 || userChoice === 2 && compChoice === 1 || userChoice === 1 && compChoice === 3 ) {
            // User gewinnt
            icon(userChoice, 'User');
            result(compChoice, 'user');
        }else if ( userChoice === 3 && compChoice === 1 || userChoice === 2 && compChoice === 3 || userChoice === 1 && compChoice === 2 ) {
            // Comp gewinnt
            icon(userChoice, 'User');
            result(compChoice, 'comp');
        } else {
            // unentschieden
            icon(userChoice, 'User');
            result(compChoice, 'tie');
        }

        if(userWins === 3 || compWins === 3) {
            // ToDo Button Disable
            if(userWins > compWins) {
                // ToDo Ausgabe #info User hat gewonnen

            } else {
                // ToDo Ausgabe #info Computer hat gewonnen

            }
            setTimeout(function () {
                // ToDo Wenn Spiel beendet Buttons verstecken

            }, 4000);

        }
    }

    function result(compChoice, what) {
        // ToDo Buttons disable true damit man sie w√§hrend der Animation nicht klicken kann

        setTimeout(function () {
            if(what === 'user') {
                // ToDo userWins + 1

                // ToDo Ausgabe Text #howWins: User gewinnt

            } else if(what === 'comp') {
                // ToDo compWins + 1

                // ToDo Ausgabe Text #howWins: Computer gewinnt

            } else {
                // ToDo Ausgabe Text #howWins: Unentschieden

            }
            icon(compChoice, 'Comp');
            // ToDo #outputScore ausgabe userWins : compWins

            // ToDo Buttons disable false damit man weiterspielen kann
            
        }, 4000);
    }

    function icon(choice, x) {
        let insertIcon = $('#outputChoice' + x);
        switch(choice) {
            case 1:
                insertIcon.html('<img class="img-fluid" src="img/hot-stones.png" alt="Stein">');
                break;
            case 2:
                insertIcon.html('<img class="img-fluid" src="img/mail.png" alt="Papier">');
                break;
            case 3:
                insertIcon.html('<img class="img-fluid" src="img/scissors.png" alt="Schere">');
                break;
        }
    }
</script>
</body>

</html>